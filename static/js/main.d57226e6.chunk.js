(this.webpackJsonpyourcontrolinstaller=this.webpackJsonpyourcontrolinstaller||[]).push([[0],{136:function(t,e,s){"use strict";s.r(e);var i=s(0),n=s(1),a=s.n(n),r=s(47),o=s.n(r),c=(s(55),s(48)),l=s(2),u=s(3),h=s(5),d=s(4),b=(s(8),s(17)),p=function(t){Object(h.a)(s,t);var e=Object(d.a)(s);function s(){return Object(l.a)(this,s),e.apply(this,arguments)}return Object(u.a)(s,[{key:"onAcknowledge",value:function(){this.props.callback&&this.props.callback()}},{key:"render",value:function(){return Object(i.jsxs)("div",{class:"dialog-div",style:this.props.hidden?{top:"25%"}:{top:"-50%"},children:[Object(i.jsx)("h1",{children:this.props.title}),Object(i.jsx)("p",{children:this.props.description}),Object(i.jsx)("button",{class:"dialog-button",onClick:this.onAcknowledge.bind(this),children:this.props.buttonText})]})}}]),s}(a.a.Component),v=function(t){Object(h.a)(s,t);var e=Object(d.a)(s);function s(t){var i;return Object(l.a)(this,s),(i=e.call(this,t)).state={},i.browsing=!1,i}return Object(u.a)(s,[{key:"browseHover",value:function(){document.body.style.cursor="pointer",this.setState({hover:!0})}},{key:"browseLeave",value:function(){document.body.style.cursor="default",this.setState({hover:!1})}},{key:"browseClick",value:function(){this.props.onBrowse()}},{key:"render",value:function(){return Object(i.jsxs)("div",{class:"directory-div",children:[Object(i.jsx)("p",{class:"overtop-label",children:this.props.title}),Object(i.jsxs)("div",{class:"directory-inner-div",children:[Object(i.jsx)("p",{class:"directory-text",children:this.props.location}),Object(i.jsx)("img",{class:"browse-button",src:this.state.hover?"folder-open.svg":"folder.svg",onMouseEnter:this.browseHover.bind(this),onMouseLeave:this.browseLeave.bind(this),onMouseDown:this.browseClick.bind(this)})]})]})}}]),s}(a.a.Component),f=function(t){Object(h.a)(s,t);var e=Object(d.a)(s);function s(t){var i;return Object(l.a)(this,s),(i=e.call(this,t)).state={hover:!1},i}return Object(u.a)(s,[{key:"onHover",value:function(){this.setState({hover:!0})}},{key:"onLeave",value:function(){this.setState({hover:!1})}},{key:"onClick",value:function(){this.props.callback&&this.props.callback()}},{key:"generateClassName",value:function(){var t="custom-checkbox";return this.state.hover&&(t+=" checkbox-hover"),t}},{key:"render",value:function(){return Object(i.jsxs)("div",{class:"feature-div",children:[Object(i.jsx)("div",{class:this.generateClassName(),onMouseEnter:this.onHover.bind(this),onMouseLeave:this.onLeave.bind(this),onMouseDown:this.onClick.bind(this),checked:this.state.checked,children:Object(i.jsx)("img",{src:"check.png",class:"checkbox-image",hidden:!this.props.checked})}),Object(i.jsx)("span",{class:"feature-text",children:this.props.name})]})}}]),s}(a.a.Component),j=function(t){Object(h.a)(s,t);var e=Object(d.a)(s);function s(t){var i;return Object(l.a)(this,s),(i=e.call(this,t)).groupMap={},i.selectedFeatures=new Set,i}return Object(u.a)(s,[{key:"componentDidUpdate",value:function(t){t.features!=this.props.features&&(this.selectedFeatures.clear(),this.groupMap.clear())}},{key:"selectFeature",value:function(t,e){if(this.selectedFeatures.has(t))this.selectedFeatures.delete(t);else{if(e){var s=this.groupMap[e];s&&this.selectedFeatures.delete(s),this.groupMap[e]=t}this.selectedFeatures.add(t)}this.props.callback&&this.props.callback(this.selectedFeatures),this.forceUpdate()}},{key:"render",value:function(){var t=this;return this.features=null!=this.props.featureList?this.props.featureList.map((function(e){return Object(i.jsx)(f,{name:e.name,callback:t.selectFeature.bind(t,e.name,e.group),checked:t.selectedFeatures.has(e.name)})})):[],Object(i.jsxs)("div",{class:"feature-list",children:[Object(i.jsx)("h3",{class:"feature-list-text",children:"Optional Features"}),Object(i.jsx)("div",{class:"feature-list-grid",children:this.features})]})}}]),s}(a.a.Component),g=s(49),k=function(t){Object(h.a)(s,t);var e=Object(d.a)(s);function s(t){var i;return Object(l.a)(this,s),(i=e.call(this,t)).state={finished:!1},i}return Object(u.a)(s,[{key:"getKeyFrames",value:function(){return[{opacity:0},{opacity:.6}]}},{key:"getTiming",value:function(){return{duration:500,direction:this.props.hidden?"normal":"reverse",fill:"forwards"}}},{key:"componentDidUpdate",value:function(t){this.props.hidden!=t.hidden&&this.setState({finished:!1})}},{key:"onFinish",value:function(){this.props.hidden||this.setState({finished:!0})}},{key:"render",value:function(){return Object(i.jsx)(g.Animated.div,{hidden:this.state.finished,class:"overlay",keyframes:this.getKeyFrames(),timing:this.getTiming(),onFinish:this.onFinish.bind(this)})}}]),s}(a.a.Component),O=function(t){Object(h.a)(s,t);var e=Object(d.a)(s);function s(t){var i;return Object(l.a)(this,s),(i=e.call(this,t)).state={programDirectory:"Unknown",packageDirectory:"Unknown",browsing:!1,installing:!1,currentDialog:{title:"",description:"",buttonText:""},dialogActive:!1},i.selectedFeatures=[],i}return Object(u.a)(s,[{key:"componentDidMount",value:function(){var t=this;Object(b.a)({cmd:"startup"}).then((function(e){if(null!==e.releaseData){var s=new Date(1e3*e.releaseData.date);t.setState({currentDialog:{title:"Release "+e.releaseData.tagName,description:"Released on ".concat(s.toDateString()),buttonText:"OK"},dialogActive:!0})}t.setState(e)}))}},{key:"featuresCallback",value:function(t){this.selectedFeatures=Array.from(t)}},{key:"promptInstall",value:function(){var t=this;this.state.installing||(this.setState({installing:!0}),Object(b.a)({cmd:"install",features:this.selectedFeatures}).then((function(){t.setState({currentDialog:{title:"Installation Successful",description:"The program has been successfully installed. Get flying!",buttonText:"OK"},dialogActive:!0})})).catch((function(e){t.setState({currentDialog:{title:"Installation Failed",description:e+"\n\nMore info available in Log.txt.",buttonText:"OK"},dialogActive:!0})})).finally((function(){t.setState({installing:!1})})))}},{key:"onDirectoryBrowse",value:function(t){var e=this;this.state.browsing||(this.setState({browsing:!0}),Object(b.a)({cmd:"browse",browse_for:t}).then((function(s){e.setState(Object(c.a)({},t+"Directory",s))})).finally((function(){e.setState({browsing:!1})})))}},{key:"dialogButtonClicked",value:function(){this.setState({dialogActive:!1})}},{key:"render",value:function(){return Object(i.jsxs)("div",{children:[Object(i.jsx)("img",{class:"logo-image",src:"logo.png"}),Object(i.jsx)(v,{title:"Installation Directory",location:this.state.programDirectory,onBrowse:this.onDirectoryBrowse.bind(this,"program")}),Object(i.jsx)(v,{title:"Community Packages Directory",location:this.state.packageDirectory,onBrowse:this.onDirectoryBrowse.bind(this,"package")}),Object(i.jsx)(j,{featureList:this.state.featureList,callback:this.featuresCallback.bind(this)}),Object(i.jsx)("button",{class:"install-button",onClick:this.promptInstall.bind(this),children:this.state.installing?"Installing":"Install"}),Object(i.jsx)(k,{hidden:this.state.dialogActive}),Object(i.jsx)(p,{hidden:this.state.dialogActive,title:this.state.currentDialog.title,description:this.state.currentDialog.description,buttonText:this.state.currentDialog.buttonText,callback:this.dialogButtonClicked.bind(this)})]})}}]),s}(a.a.Component),y=function(t){t&&t instanceof Function&&s.e(3).then(s.bind(null,137)).then((function(e){var s=e.getCLS,i=e.getFID,n=e.getFCP,a=e.getLCP,r=e.getTTFB;s(t),i(t),n(t),a(t),r(t)}))};o.a.render(Object(i.jsx)(a.a.StrictMode,{children:Object(i.jsx)(O,{})}),document.getElementById("root")),y()},55:function(t,e,s){},8:function(t,e,s){}},[[136,1,2]]]);
//# sourceMappingURL=main.d57226e6.chunk.js.map